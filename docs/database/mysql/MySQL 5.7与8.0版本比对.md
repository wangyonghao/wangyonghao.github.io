| 特性维度                              | MySQL 5.7                                                 | MySQL 8.0                                                    | 关键差异说明与影响                                           |
| :------------------------------------ | :-------------------------------------------------------- | :----------------------------------------------------------- | :----------------------------------------------------------- |
| **I. 性能优化**                       |                                                           |                                                              | **8.0在InnoDB方面有显著提升，适用于高并发、大数据量场景。**  |
| **1. InnoDB改进**                     | - 缓冲池预取优化<br>- Online DDL增强<br>- GIS空间索引支持 | - **事务处理性能大幅提升** (Group Commit优化、MDL锁增强)<br>- **读写性能提升** (Redo Log、Undo Log优化)<br>- **B-tree索引并行构建**<br>- Online DDL支持更多操作 | 8.0对InnoDB存储引擎进行了深度优化，尤其在高并发、高写入负载下表现更优。Online DDL的增强使得更多表结构变更可以在不阻塞业务的情况下进行。 |
| **2. 查询优化**                       | - 成本优化器改进<br>- JSON函数支持                        | - **成本优化器进一步增强**<br>- **通用表表达式 (CTE) 支持**<br>- **窗口函数支持**<br>- 更快的JSON函数处理 | 8.0引入了CTE和窗口函数，极大简化了复杂查询的编写，提升了查询表达能力和部分场景的查询性能。JSON处理功能更强大，适用BSON类型数据存储。 |
| **II. 功能特性**                      |                                                           |                                                              | **8.0引入了大量现代化、开发友好的新特性。**                  |
| **1. Data Dictionary**                | 独立于InnoDB存储引擎                                      | **统一集成到InnoDB**                                         | 8.0实现了统一的数据字典，改善了元数据存储和访问的一致性与原子性，简化了管理。 |
| **2. JSON 支持**                      | 简单JSON类型和函数                                        | **PL/SQL风格更复杂的JSON函数、JSON表函数**                   | 8.0的JSON支持更丰富，可以更方便地处理和查询JSON数据，适用于NoSQL与SQL混合场景。 |
| **3. 窗口函数 (Window Functions)**    | 不支持                                                    | **支持**                                                     | 8.0引入了强大的窗口函数（如ROW_NUMBER(), RANK(), LEAD(), LAG()等），极大地简化了报表、排名、分析等复杂场景的SQL编写，减少了应用程序端的逻辑处理。 |
| **4. CTE (Common Table Expressions)** | 不支持                                                    | **支持**                                                     | 8.0引入的CTE使得复杂、递归查询的SQL逻辑更清晰、可读性更强。  |
| **5. Atomic DDL**                     | 不支持                                                    | **支持**                                                     | 8.0的DDL操作（如CREATE TABLE, ALTER TABLE等）是原子的，要么全部成功，要么全部失败，这意味着DDL操作的安全性更高，在崩溃时不会出现部分执行的状态。 |
| **6. 字符集默认值**                   | `latin1_swedish_ci`                                       | **`utf8mb4`**                                                | 8.0默认字符集变更为`utf8mb4`，更好地支持Emoji等各种复杂字符，避免了因字符集问题导致的乱码。这是非常重要的一个变化。 |
| **7. 默认认证插件**                   | `mysql_native_password`                                   | **`caching_sha2_password`**                                  | `caching_sha2_password`是更安全的加密方式，但需要更新客户端驱动以支持。这可能带来兼容性问题，但也提升了安全性。 |
| **8. 排序规则 (Collation)**           | 少量Unicode排序规则                                       | **支持更多Unicode 9.0排序规则**                              | 8.0提供了更细粒度的排序规则，尤其对于多语言应用更友好。      |
| **9. 撤销表空间 (Undo Tablespace)**   | 只能配置一个，无法回收                                    | **支持配置多个，可自动/手动回收空间**                        | 8.0的Undo Tablespace管理更灵活，有助于减少磁盘占用。         |
| **III. 安全性与管理**                 |                                                           |                                                              | **8.0在安全性和易用性方面有显著提升。**                      |
| **1. 账户管理**                       | - 密码策略自定义能力弱<br>- 角色功能不完善                | - **更强的密码策略管理**<br>- **全新、完善的角色管理**<br>- 资源组 (Resource Groups) | 8.0的角色管理功能更加完善，可以方便地对权限进行分组和分配。资源组允许对用户或会话的CPU/IO资源进行隔离和限制，提升了多租户或混合负载场景的稳定性。 |
| **2. 安全性**                         | - 加密能力相对有限                                        | - **TLSv1.3支持**<br>- 增强审计功能                          | 8.0支持更安全的传输层协议，加强了数据传输的安全性。          |
| **3. 可维护性**                       | 诊断工具较少                                              | - **性能模式 (Performance Schema) 增强**<br>- **Innodb Redo Log历史记录可视化** | 8.0提供了更强大的诊断工具，有助于DBA进行故障排查和性能分析。 |
| **4. 弃用/移除特性**                  | 支持查询缓存(Query Cache)                                 | **移除查询缓存**                                             | 8.0移除了查询缓存，这需要重新评估应用程序层的缓存策略。虽然查询缓存曾被用于提升性能，但在高并发、高写入场景下，其维护成本（锁竞争、失效）往往大于收益。 |