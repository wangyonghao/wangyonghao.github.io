# Java中正则表达式验证日期格式

1>.首先需要验证年份，显然，年份范围为
 0001 - 9999，匹配YYYY的正则表达式为：
[0-9]{3}[1-9]|[0-9]{2}[1-9][0-9]{1}|[0-9]{1}[1-9][0-9]{2}|[1-9][0-9]{3}
其中 [0-9] 也可以表示为 \d，但 \d 不如 [0-9] 直观，因此下面我将一直采用  [0-9]<BR>
用正则表达式验证日期的难点有二：一是大小月份的天数不同，二是闰年的考虑。<BR>对于第一个难点，我们首先不考虑闰年，假设2月份都是28天，这样，月份和日期可以分成三种情况
 1、月份为1, 3, 5, 7, 8, 10, 12，天数范围为 01 - 31，匹配MM-DD的正则表达式为:(0[13578]|1[02])-(0[1-9]|[12][0-9]|3[01])
 2、月份为4, 6, 9, 11，天数范围为 01-30，匹配MM-DD的正则表达式为:
(0[469]|11)-(0[1-9]|[12][0-9]|30
 3、月份为2，考虑平年情况，匹配MM-DD的正则表达式为：`02-(0[1-9]|[1][0-9]|2[0-8])`根据上面的成果，我们可以得到匹配平年日期格式为`YYYY-MM-DD`的正则表达式
`([0-9]{3}[1-9]|[0-9]{2}[1-9][0-9]{1}|[0-9]{1}[1-9][0-9]{2}|[1-9][0-9]{3})-(((0[13578]|1[02])-(0[1-9]|[12][0-9]|3[01]))|((0[469]|11)-(0[1-9]|[12][0-9]|30))|(02-(0[1-9]|[1][0-9]|2[0-8])))`
接着我们来解决第二个难点：闰年的考虑。根据闰年的定义，我们可以将闰年分为两类
1、能被4整除但不能被100整除的年份。寻找后两位的变化规律，可以很快得到下面的正则匹配`([0-9]{2})(0[48]|[2468][048]|[13579][26])`
2、能被400整除的年份。能被400整除的数肯定能被100整除，因此后两位肯定是00，我们只要保证前两位能被4整除即可，相应的正则表达式为:`(0[48]|[2468][048]|[3579][26])00`
闰年的2月份有29天，因此匹配闰年日期格式为YYYY-MM-DD的正则表达式为`(([0-9]{2})(0[48]|[2468][048]|[13579][26])|((0[48]|[2468][048]|[3579][26])00))-02-29`
最后，将平年和闰年的日期验证表达式合并，我们得到最终的验证日期格式为YYYY-MM-DD的正则表达式为：``(([0-9]{3}[1-9]|[0-9]{2}[1-9][0-9]{1}|[0-9]{1}[1-9][0-9]{2}|[1-9][0-9]{3})-(((0[13578]|1[02])-(0[1-9]|[12][0-9]|3[01]))|((0[469]|11)-(0[1-9]|[12][0-9]|30))|(02-(0[1-9]|[1][0-9]|2[0-8]))))|((([0-9]{2})(0[48]|[2468][048]|[13579][26])|((0[48]|[2468][048]|[3579][26])00))-02-29)``

`DD/MM/YYYY`格式的正则验证表达式为：``(((0[1-9]|[12][0-9]|3[01])/((0[13578]|1[02]))|((0[1-9]|[12][0-9]|30)/(0[469]|11))|(0[1-9]|[1][0-9]|2[0-8])/(02))/([0-9]{3}[1-9]|[0-9]{2}[1-9][0-9]{1}|[0-9]{1}[1-9][0-9]{2}|[1-9][0-9]{3}))|(29/02/(([0-9]{2})(0[48]|[2468][048]|[13579][26])|((0[48]|[2468][048]|[3579][26])00)))``